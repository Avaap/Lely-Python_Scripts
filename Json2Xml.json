[{"name":"Json2Xml","description":"06/Nov/20: Generic Script to convert Json to Xml","scriptCode":"import json\r\nfrom xml.etree import ElementTree\r\n\r\nclass Converter(object):\r\n    def __init__(self, to_convert):\r\n        self._to_convert = to_convert\r\n\r\n    def convert(self, *args, **kwargs):\r\n        pass\r\n\r\n\r\nclass JsonToXML(Converter):\r\n    def __init__(self, to_convert):\r\n        # assert hasattr(to_convert, 'keys')\r\n        super(JsonToXML, self).__init__(to_convert)\r\n\r\n    def convert(self, *args, **kwargs):\r\n        \"\"\"\r\n        Converts a dictionary to an XML ElementTree Element\r\n        \"\"\"\r\n        if isinstance(self._to_convert, dict):\r\n            keys = list(self._to_convert.keys())\r\n            if len(keys) > 1:\r\n                self._to_convert={'root': self._to_convert}\r\n        elif isinstance(self._to_convert, list):\r\n            self._to_convert={'root': self._to_convert}\r\n\r\n        root_tag = list(self._to_convert.keys())[0]\r\n        print(root_tag)\r\n        root = ElementTree.Element(root_tag)\r\n        self._convert(root, self._to_convert[root_tag])\r\n        return root\r\n\r\n    def _convert(self, parent, dictitem):\r\n        # assert not isinstance(dictitem, type([]))  # type(dictitem) is not type([])\r\n\r\n        if isinstance(dictitem, dict):\r\n            for (tag, child) in dictitem.items():\r\n                if str(tag) == '#text':\r\n                    parent.text = str(child)\r\n                    return\r\n                if str(tag)[0] == '@':\r\n                    parent.attrib[tag[1:]] = child\r\n                elif isinstance(child, list):  # type(child) is type([]):\r\n                    # iterate through the array and convert\r\n                    for list_child in child:\r\n                        elem = ElementTree.Element(tag)\r\n                        parent.append(elem)\r\n                        self._convert(elem, list_child)\r\n                else:\r\n                    elem = ElementTree.Element(tag)\r\n                    parent.append(elem)\r\n                    self._convert(elem, child)\r\n        elif isinstance(dictitem, list):\r\n            for list_child in dictitem:\r\n                elem = ElementTree.Element('element')\r\n                parent.append(elem)\r\n                self._convert(elem, list_child)\r\n        else:\r\n            parent.text = str(dictitem)\r\n\r\n\r\nsource = json.loads(json_input)\r\nresult = JsonToXML(source).convert()\r\nbody = ElementTree.tostring(result,encoding='UTF-8',method='xml')\r\nxml_output = str(body.decode())\r\n","documentation":"","usedLibraries":[],"inputVariables":[],"outputVariables":[],"variables":[{"name":"xml_output","description":"","dataType":"STRING","type":"OUTPUT","content":null},{"name":"json_input","description":"","dataType":"STRING","type":"INPUT","content":null}]}]